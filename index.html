<!DOCTYPE html>
<html lang="en" style="-webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%;">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=0" />
		<title>ePoint</title>
		<link rel="shortcut icon" type="image/x-icon" href="data/images/e.ico" />
		<link rel="stylesheet" href="css/style.css" type="text/css" media="all" />
		<link rel="stylesheet" href="css/flexslider.css" type="text/css" media="all" />
		<link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" media="all" />
		<link href='https://fonts.googleapis.com/css?family=Ubuntu:400,500,700' rel='stylesheet' type='text/css' />
		
		
	</head>
	<body ng-app="ePoint">
		<!-- wraper -->
		<div id="wrapper" ng-controller="ePointCtrl">
			<!-- shell -->
			<div class="shell">
				<!-- container -->
				<div class="container">
					<!-- header -->
					<header id="header">
						<a href="#"><img src="data/images/epoint-logo.png"></img></a>
						<!-- search -->
						<div class="search">
							<form method="post">
								<span class="field"><input type="text" class="field" value="keywords here ..." title="keywords here ..." ng-model="searchTerms"/></span>
								<input type="submit" class="search-btn" ng-value="searchTerms" />
							</form>
							<strong>Cart:</strong> {{ cartCount }} Items <a href="#">Checkout</a>
						</div>
						<!-- end of search -->
					</header>
					<div class="main">
						<section class="post">
							<div class="products">
								<ul>
									<div ng-repeat="x in json.products">
										<div class="product-info" ng-click="open(x.id)">
					                        <h3>{{ x.name }}</h3>
					                        <div class="product-desc">
					                            <p>{{ x.desc }}</p>
					                            <p style="text-align:right">
					                                <strong class="price">
					                                    {{ x.cost }}
					                                    <a href="#">
					                                        <img src="data/images/add-to-cart.png" />
					                                    </a>
					                                </strong>
					                            </p>
					                        </div>
			                    		</div>
									</div>
								</ul>
							</div>
							<div class="cl">&nbsp;</div>
						</section>
						
						
					    <pagination boundary-links="true" total-items="totalItems" ng-model="currentPage" 
							class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;"
							last-text="&raquo;"></pagination>
	
						<section class="testimonial">
	
							<p class="author">Template by Joseph Whitley, <strong>ePoint</strong></p>
						</section>
					</div>
					<!-- end of main -->
					<div id="footer">
						
						<!-- end of footer-cols -->
						<div class="footer-bottom">
							<nav class="footer-nav">
								<ul>
									<li class="active"><a href="#">Home</a></li>
									<li><a href="#">Services</a></li>
									<li><a href="#">Projects</a></li>
									<li><a href="#">Solutions</a></li>
									<li><a href="About.html">
										About Me
									</a></li>
								</ul>
							</nav>
							<div class="cl">&nbsp;</div>
						</div>
					</div>
				</div>
				<!-- end of container -->	
			</div>
			<script type="text/ng-template" id="myModalContent.html">
		        <div class="modal-header">
		            <h3 class="modal-title">{{ selectedItemName }}</h3>
		        </div>
		        <div class="modal-body">
		            {{ selectedLongDesc }}
		        </div>
		        <div class="modal-footer">
		            <button class="btn btn-primary" ng-click="ok()">OK</button>
		            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
		        </div>
		    </script>
			<!-- end of shell -->	
		</div>
		<!-- end of wrapper -->
		<script src="js/jquery-1.11.3.min.js" type="text/javascript"></script>
		<script src="js/jquery.flexslider-min.js" type="text/javascript"></script>
		<script src="js/functions.js" type="text/javascript"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>"
		<script src="js/ui-bootstrap-0.13.0.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
			
		<script>
			var app = angular.module('ePoint', []);
			app.controller('ePointCtrl', function ($scope, $http, $log) {
				$scope.totalItems  = 1;
				$scope.currentPage = 1;
				
				$http.get("data/sampleproducts.json").success(function(data) {
					$scope.json = data;
					$scope.totalItems = data.products.length;
				});
				
				$scope.setPage = function (pageNo) {
					$scope.currentPage = pageNo;
				};
				
				$scope.pageChanged = function() {
				    $http.log('Page changed to: ' + $scope.currentPage);
				};
				
				$scope.maxSize = 5;
				$scope.bigTotalItems = 175;
				$scope.bigCurrentPage = 1;
				
				$scope.cartCount = 0;
				
				$scope.open = function (id) {
					$scope.json.products.forEach(function(x){
						if (x.id == id){
							$scope.selectedItemName = x.name;
							$scope.selectedLongDesc = x.longDesc;
							return;
						}
					});
					var modalInstance = $http.open({
					    animation: $scope.animationsEnabled,
				    	templateUrl: 'myModalContent.html',
				    	controller: 'ePoint',
				    	resolve: {
				    		items: function () {
				    			return $scope.items;
				    		}
				    	}
				    });
					modalInstance.result.then(function (selectedItem) {
				    	$scope.selected = selectedItem;
				    }, function () {
				    	$log.info('Modal dismissed at: ' + new Date());
				    });
				}
			});
		</script>
	</body>
</html>